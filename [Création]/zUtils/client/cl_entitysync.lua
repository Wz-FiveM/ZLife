local a={}function RegisterEntity(b)table.insert(a,{id=b,hash=GetEntityModel(b),data={}})end;function SetEntityData(b,c,d)for e=1,#a,1 do if a[e].id==b then a[e].data[c]=d;break end end end;AddEventHandler('entitysync:registerEntity',function(b)NetworkRequestControlOfEntity(b)SetEntityAsMissionEntity(b,true,true)RegisterEntity(b)end)RegisterNetEvent('entitysync:setEntityData')AddEventHandler('entitysync:setEntityData',function(b,c,d)SetEntityData(b,c,d)end)RegisterNetEvent('entitysync:getEntities')AddEventHandler('entitysync:getEntities',function(f)for e=1,#a,1 do local g=GetEntityCoords(a[e].id)a[e].coords={x=g.x,y=g.y,z=g.z}end;TriggerServerEvent('entitysync:onEntities',f,a)end)Citizen.CreateThread(function()while true do Citizen.Wait(1)for e=1,#a,1 do if not DoesEntityExist(a[e].id)then table.remove(a,e)break end end end end)